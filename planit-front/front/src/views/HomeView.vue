<template>
  <div class="home-container">
    <SidebarMenu />
    <div class="main-content">
      <TopHeader />
      <div class="content-body">
        <CalendarSection @open-modal="openModal" />
        <CardWidgets />
      </div>
        <ModalForm
          v-if="isModalOpen"
          :date="selectedDate"
          @close="closeModal"
          @save="handleSave"
        />
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import SidebarMenu from '../components/SidebarMenu.vue'
import TopHeader from '../components/TopHeader.vue'
import CalendarSection from '../components/CalendarSection.vue'
import CardWidgets from '../components/CardWidgets.vue'
import ModalForm from '../components/ModalForm.vue'


const isModalOpen = ref(false)
const selectedDate = ref('')


function handleSave(payload) {
  console.log('μ €μ¥λ λ°μ΄ν„°:', payload)
  // μ €μ¥ μ²λ¦¬ λ΅μ§ (μ: μ„λ²„ μ „μ†΅, μƒνƒ μ €μ¥ λ“±)
}

function openModal(date) {
  selectedDate.value = date
  isModalOpen.value = true
}

function closeModal() {
  isModalOpen.value = false
}
</script>

<style scoped>
.home-container {
  display: flex;
  height: 100vh;         /* β… μ „μ²΄ ν™”λ©΄ κ³ μ • */
  width: 100vw;
  overflow: hidden;
}

.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;          /* β… μμ‹μ΄ height: 100%λ΅ λ°›μ„ μ μλ„λ΅ */
  overflow: hidden;
}

.content-body {
  flex: 1;
  display: flex;
  flex-direction: row;
  width: 100%;
  height: 100%; /* β… μ μ§€ */
  padding: 2rem;
  gap: 2rem;

  /* π’¥ λ³€κ²½ ν¬μΈνΈ */
  overflow: hidden; /* β… μ¤ν¬λ΅¤μ„ CardWidgetsμ—μ„ μ²λ¦¬ν•λ―€λ΅ μ΄κ±΄ hidden μ μ§€ */
  box-sizing: border-box;
}


</style>
